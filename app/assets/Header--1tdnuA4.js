import{r as o,a as i,j as e,b as x}from"./index-BF8XAlqA.js";const h=s=>{const t=s.length;let n=0;for(let r=0;r<t;r++)n=(n<<3)-n+s.charCodeAt(r),n&=n;return n},c=(s,t)=>s%Math.abs(t[1]-t[0])+t[0],f=s=>{const t=Math.abs(h(s)),n=c(t,[0,360]),r=c(t,[40,45]),a=c(t,[40,50]);return`hsl(${n}, ${r}%, ${a}%)`},p=f;function j({user:s}){const[t,n]=o.useState(!1),r=o.useRef(null),a=p(s.email),u=new Date(Number(s.created_at)*1e3).getFullYear(),{logout:m}=i();return o.useEffect(()=>{const l=d=>{r.current&&!r.current.contains(d.target)&&n(!1)};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[]),e.jsxs("div",{className:"relative",children:[e.jsx("button",{className:"h-10 w-10 flex items-center justify-center rounded-full",style:{backgroundColor:a},onClick:()=>n(l=>!l),children:e.jsx("span",{className:"text-xl font-medium text-white uppercase",children:s.email.at(0)})}),t&&e.jsxs("div",{className:"profile-card absolute top-full right-0 mt-2 p-3 bg-white rounded-md",ref:r,children:[e.jsxs("div",{className:"flex items-center justify-center gap-x-2",children:[e.jsx("div",{className:"inline-flex items-center justify-center h-10 w-10 shrink-0 rounded-full",style:{backgroundColor:a},children:e.jsx("span",{className:"text-2xl font-medium text-white uppercase",children:s.email.at(0)})}),e.jsxs("p",{className:"flex flex-col items-start justify-center gap-y-1",children:[e.jsx("span",{className:"text-lg",children:s.email}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Member since ",u]})]})]}),e.jsx("hr",{className:"my-2 border-primary-950"}),e.jsx("button",{className:"flex items-center justify-start h-10 w-full rounded hover:bg-error/10",onClick:m,children:e.jsxs("div",{className:"px-1 inline-flex items-center gap-x-1",children:[e.jsx("img",{src:"/images/logout.svg",alt:"logout"}),e.jsx("span",{className:"text-error",children:"Logout"})]})})]})]})}function b(){const{user:s}=i();return e.jsx("header",{className:"px-6 bg-white",children:e.jsxs("div",{className:"container mx-auto h-20 flex items-center justify-between",children:[e.jsx("img",{src:"/images/logo.svg",alt:"miniurl logo",className:"h-7",height:"29px",width:"105px"}),s?e.jsx(j,{user:s}):e.jsx(g,{})]})})}function g(){const{focusInput:s}=x();return e.jsx("button",{className:"h-10 px-3 rounded transition-colors hover:bg-primary/5",onClick:s,children:e.jsx("span",{className:"inline-block text-primary font-medium",children:"Login/signup"})})}export{b as H};
